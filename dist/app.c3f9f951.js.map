{"version":3,"sources":["js/player.js","js/assets.js","js/game.js","js/app.js"],"names":["Player","name","image","weapon","lastId","id","health","damage","old","location","row","column","Game","players","gridSquares","tile","innerHTML","removeAttribute","i","placeItem","goomba","map","player","document","querySelector","shield","knife","bomb","reset","currentPlayer","Math","floor","random","length","detectTurn","playerMoves","item","type","randomSquare","dataset","getPlayerDistance","p1c","p1r","yDistance","abs","xDistance","y","classList","contains","x","getObstacleDistance","r1","r2","r3","r4","c1","c2","c3","c4","r1c1","r2c2","r3c3","r4c4","Number","add","north1","north2","north3","south1","south2","south3","west1","west2","west3","east1","east2","east3","addEventListener","movePlayer","e","oldPos","newPos","target","nodeName","path","remove","querySelectorAll","removeEventListener","isFighting","detectFight","retaliation","changeTurn","north","west","east","south","attacker","opponent","setTimeout","protect","attack","newHealth","gameOver","once","panel","scoreBoard","selector","tiles","newGame","player1","mario","fire","generate","player2","luigi","gun","game","init"],"mappings":"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","file":"app.c3f9f951.js","sourceRoot":"..","sourcesContent":["class Player {\n  constructor(name, image, weapon, lastId = 0) {\n    this.id = lastId + 1;\n    this.name = name;\n    this.image = image;\n    this.weapon = weapon;\n  }\n  generate = () => {\n    return {\n      id: this.id,\n      name: this.name,\n      image: `<img src=\"${this.image}\" alt=\"${this.name}\" width=\"50\"/>`,\n      health: 100,\n      weapon: {\n        image: `<img src=\"${this.weapon}\" alt=\"${this.name}\" width=\"70\" data-damage=\"10\" />`,\n        damage: 10,\n        old: null,\n      },\n      location: { row: 0, column: 0 },\n    };\n  };\n}\n\nexport default Player;\n","import mario from \"../images/mario.png\";\nimport luigi from \"../images/luigi.png\";\nimport fire from \"../images/fire.png\";\nimport shield from \"../images/shield.png\";\nimport gun from \"../images/gun.png\";\nimport bomb from \"../images/bomb.png\";\nimport knife from \"../images/knife.png\";\nimport health from \"../images/health.png\";\nimport goomba from \"../images/goomba.png\";\n\nexport { mario, luigi, fire, shield, gun, bomb, goomba, knife, health };\n","import { shield, health, goomba, knife, bomb } from \"./assets\";\n\nexport default class Game {\n  constructor(players) {\n    this.players = players;\n    this.gridSquares = document.querySelectorAll(\"#mapBox > div\");\n    this.currentPlayer = null;\n  }\n\n  static map = (selector, tiles) => {\n    let column = 0;\n    let row = 1;\n    for (let tile = 0; tile < tiles; tile++) {\n      column++;\n\n      document.querySelector(\n        selector\n      ).innerHTML += `<div data-row=\"${row}\" data-column=\"${column}\"></div>`;\n\n      if (column === 9) {\n        row++;\n        column = 0;\n      }\n    }\n  };\n\n  reset = () => {\n    for (const tile of this.gridSquares) {\n      tile.innerHTML = \"\";\n      tile.removeAttribute(\"class\");\n    }\n\n    for (let i = 0; i < 10; i++) {\n      this.placeItem(`<img src=\"${goomba}\" width=\"50\" />`, \"obstacle\");\n    }\n\n    this.players.map((player) => {\n      // document.querySelector(`#p${player.id}-name`).innerHTML = \"\";\n      document.querySelector(`#p${player.id}-name`).innerHTML = player.name;\n      // document.querySelector(`#p${player.id}-image`).innerHTML = \"\";\n      document.querySelector(`#p${player.id}-image`).innerHTML = player.image;\n      // document.querySelector(`#p${player.id}-health-image`).innerHTML = \"\";\n      document.querySelector(\n        `#p${player.id}-health-image`\n      ).innerHTML = `<img src=\"${health}\" width=\"70\" />`;\n      // document.querySelector(`#p${player.id}-health`).innerHTML = \"\";\n      document.querySelector(`#p${player.id}-health`).innerHTML = player.health;\n      // document.querySelector(`#p${player.id}-weapon`).innerHTML = \"\";\n      document.querySelector(`#p${player.id}-weapon`).innerHTML =\n        player.weapon.image;\n      // document.querySelector(`#p${player.id}-damage`).innerHTML = \"\";\n      document.querySelector(`#p${player.id}-damage`).innerHTML =\n        player.weapon.damage;\n      document.querySelector(`#p${player.id}-shield`).innerHTML = player.shield\n        ? \"Protected\"\n        : \"Unprotected\";\n\n      document.querySelector(\n        `#p${player.id}-shield-image`\n      ).innerHTML = `<img src=\"${shield}\" width=\"70\" />`;\n\n      this.placeItem(player, \"player\");\n    });\n\n    this.placeItem(\n      `<img src=\"${knife}\" width=\"50\" data-damage=\"15\" />`,\n      \"weapon\"\n    );\n    this.placeItem(\n      `<img src=\"${bomb}\" width=\"50\" data-damage=\"20\" />`,\n      \"weapon\"\n    );\n  };\n\n  init = () => {\n    this.reset();\n\n    this.currentPlayer = this.players[\n      Math.floor(Math.random() * this.players.length)\n    ];\n\n    this.detectTurn();\n    this.playerMoves();\n  };\n\n  placeItem = (item, type) => {\n    const randomSquare = Math.floor(Math.random() * this.gridSquares.length);\n    const { row, column } = this.gridSquares[randomSquare].dataset;\n\n    const getPlayerDistance = (row, column) => {\n      if (this.players[0].location.row > 0) {\n        const p1c = +this.players[0].location.column;\n        const p1r = +this.players[0].location.row;\n\n        const yDistance = Math.abs(p1r - row);\n        const xDistance = Math.abs(p1c - column);\n\n        // Check if P1 is in same column and less than 4 steps away from P2\n        if (p1c === column && yDistance <= 4) {\n          // Check if there's a barrier between two players\n          for (let i = 1; i <= yDistance; i++) {\n            if (p1r > row) {\n              const y = document.querySelector(\n                `[data-row=\"${p1r - i}\"][data-column=\"${p1c}\"]`\n              );\n              if (y && y.classList.contains(\"obstacle\")) return false;\n            } else {\n              const y = document.querySelector(\n                `[data-row=\"${p1r + i}\"][data-column=\"${p1c}\"]`\n              );\n              if (y && y.classList.contains(\"obstacle\")) return false;\n            }\n          }\n\n          return true;\n        }\n\n        // Check if P1 is in same row and less than 4 steps away from P2\n        if (p1r === row && xDistance <= 4) {\n          // Check if there's a obstacle between two players\n          for (let i = 1; i <= xDistance; i++) {\n            if (p1c > column) {\n              const x = document.querySelector(\n                `[data-row=\"${p1r}\"][data-column=\"${p1c - i}\"]`\n              );\n              if (x && x.classList.contains(\"obstacle\")) return false;\n            } else {\n              const x = document.querySelector(\n                `[data-row=\"${p1r}\"][data-column=\"${p1c + i}\"]`\n              );\n              if (x && x.classList.contains(\"obstacle\")) return false;\n            }\n          }\n\n          return true;\n        }\n\n        if (\n          (xDistance === 1 && yDistance <= 4) ||\n          (yDistance === 1 && xDistance <= 4)\n        )\n          return true;\n      }\n    };\n\n    const getObstacleDistance = (row, column) => {\n      const r1 = document.querySelector(\n        `[data-row=\"${row - 1}\"][data-column=\"${column}\"]`\n      );\n      const r2 = document.querySelector(\n        `[data-row=\"${row - 2}\"][data-column=\"${column}\"]`\n      );\n      const r3 = document.querySelector(\n        `[data-row=\"${row + 1}\"][data-column=\"${column}\"]`\n      );\n      const r4 = document.querySelector(\n        `[data-row=\"${row + 2}\"][data-column=\"${column}\"]`\n      );\n\n      const c1 = document.querySelector(\n        `[data-column=\"${column - 1}\"][data-row=\"${row}\"]`\n      );\n      const c2 = document.querySelector(\n        `[data-column=\"${column - 2}\"][data-row=\"${row}\"]`\n      );\n      const c3 = document.querySelector(\n        `[data-column=\"${column + 1}\"][data-row=\"${row}\"]`\n      );\n      const c4 = document.querySelector(\n        `[data-column=\"${column + 2}\"][data-row=\"${row}\"]`\n      );\n\n      if (r1 && r1.classList.contains(\"obstacle\")) return true;\n      if (r2 && r2.classList.contains(\"obstacle\")) return true;\n      if (r3 && r3.classList.contains(\"obstacle\")) return true;\n      if (r4 && r4.classList.contains(\"obstacle\")) return true;\n\n      if (c1 && c1.classList.contains(\"obstacle\")) return true;\n      if (c2 && c2.classList.contains(\"obstacle\")) return true;\n      if (c3 && c3.classList.contains(\"obstacle\")) return true;\n      if (c4 && c4.classList.contains(\"obstacle\")) return true;\n\n      const r1c1 = document.querySelector(\n        `[data-row=\"${row - 1}\"][data-column=\"${column - 1}\"]`\n      );\n      const r2c2 = document.querySelector(\n        `[data-row=\"${row - 1}\"][data-column=\"${column + 1}\"]`\n      );\n      const r3c3 = document.querySelector(\n        `[data-row=\"${row + 1}\"][data-column=\"${column - 1}\"]`\n      );\n      const r4c4 = document.querySelector(\n        `[data-row=\"${row + 1}\"][data-column=\"${column + 1}\"]`\n      );\n\n      if (r1c1 && r1c1.classList.contains(\"obstacle\")) return true;\n      if (r2c2 && r2c2.classList.contains(\"obstacle\")) return true;\n      if (r3c3 && r3c3.classList.contains(\"obstacle\")) return true;\n      if (r4c4 && r4c4.classList.contains(\"obstacle\")) return true;\n    };\n\n    if (this.gridSquares[randomSquare].classList.contains(\"full\"))\n      return this.placeItem(item, type);\n\n    if (type === \"player\") {\n      if (getPlayerDistance(Number(row), Number(column)))\n        return this.placeItem(item, type);\n\n      this.gridSquares[randomSquare].innerHTML = item.image;\n      this.players[item.id - 1].location = { row, column };\n    } else if (type === \"obstacle\" && getObstacleDistance(+row, +column)) {\n      return this.placeItem(item, type);\n    } else {\n      this.gridSquares[randomSquare].innerHTML = item;\n    }\n    this.gridSquares[randomSquare].classList.add(type);\n    this.gridSquares[randomSquare].classList.add(\"full\");\n  };\n\n  playerMoves = () => {\n    // north direction\n    const north1 = document.querySelector(\n      `[data-row=\"${this.currentPlayer.location.row - 1}\"][data-column=\"${\n        this.currentPlayer.location.column\n      }\"]`\n    );\n\n    const north2 = document.querySelector(\n      `[data-row=\"${this.currentPlayer.location.row - 2}\"][data-column=\"${\n        this.currentPlayer.location.column\n      }\"]`\n    );\n    const north3 = document.querySelector(\n      `[data-row=\"${this.currentPlayer.location.row - 3}\"][data-column=\"${\n        this.currentPlayer.location.column\n      }\"]`\n    );\n\n    // south direction\n    const south1 = document.querySelector(\n      `[data-row=\"${\n        Number(this.currentPlayer.location.row) + 1\n      }\"][data-column=\"${this.currentPlayer.location.column}\"]`\n    );\n    const south2 = document.querySelector(\n      `[data-row=\"${\n        Number(this.currentPlayer.location.row) + 2\n      }\"][data-column=\"${this.currentPlayer.location.column}\"]`\n    );\n    const south3 = document.querySelector(\n      `[data-row=\"${\n        Number(this.currentPlayer.location.row) + 3\n      }\"][data-column=\"${this.currentPlayer.location.column}\"]`\n    );\n\n    // west direction\n    const west1 = document.querySelector(\n      `[data-row=\"${this.currentPlayer.location.row}\"][data-column=\"${\n        this.currentPlayer.location.column - 1\n      }\"]`\n    );\n    const west2 = document.querySelector(\n      `[data-row=\"${this.currentPlayer.location.row}\"][data-column=\"${\n        this.currentPlayer.location.column - 2\n      }\"]`\n    );\n    const west3 = document.querySelector(\n      `[data-row=\"${this.currentPlayer.location.row}\"][data-column=\"${\n        this.currentPlayer.location.column - 3\n      }\"]`\n    );\n\n    // east direction\n    const east1 = document.querySelector(\n      `[data-row=\"${this.currentPlayer.location.row}\"][data-column=\"${\n        Number(this.currentPlayer.location.column) + 1\n      }\"]`\n    );\n    const east2 = document.querySelector(\n      `[data-row=\"${this.currentPlayer.location.row}\"][data-column=\"${\n        Number(this.currentPlayer.location.column) + 2\n      }\"]`\n    );\n    const east3 = document.querySelector(\n      `[data-row=\"${this.currentPlayer.location.row}\"][data-column=\"${\n        Number(this.currentPlayer.location.column) + 3\n      }\"]`\n    );\n\n    if (\n      north1 &&\n      !north1.classList.contains(\"obstacle\") &&\n      !north1.classList.contains(\"player\")\n    ) {\n      north1.classList.add(\"highlight\");\n      north1.addEventListener(\"click\", this.movePlayer);\n\n      if (\n        north2 &&\n        !north2.classList.contains(\"obstacle\") &&\n        !north2.classList.contains(\"player\")\n      ) {\n        north2.classList.add(\"highlight\");\n        north2.addEventListener(\"click\", this.movePlayer);\n\n        if (\n          north3 &&\n          !north3.classList.contains(\"obstacle\") &&\n          !north3.classList.contains(\"player\")\n        ) {\n          north3.classList.add(\"highlight\");\n          north3.addEventListener(\"click\", this.movePlayer);\n        }\n      }\n    }\n\n    if (\n      south1 &&\n      !south1.classList.contains(\"obstacle\") &&\n      !south1.classList.contains(\"player\")\n    ) {\n      south1.classList.add(\"highlight\");\n      south1.addEventListener(\"click\", this.movePlayer);\n\n      if (\n        south2 &&\n        !south2.classList.contains(\"obstacle\") &&\n        !south2.classList.contains(\"player\")\n      ) {\n        south2.classList.add(\"highlight\");\n        south2.addEventListener(\"click\", this.movePlayer);\n\n        if (\n          south3 &&\n          !south3.classList.contains(\"obstacle\") &&\n          !south3.classList.contains(\"player\")\n        ) {\n          south3.classList.add(\"highlight\");\n          south3.addEventListener(\"click\", this.movePlayer);\n        }\n      }\n    }\n\n    if (\n      east1 &&\n      !east1.classList.contains(\"obstacle\") &&\n      !east1.classList.contains(\"player\")\n    ) {\n      east1.classList.add(\"highlight\");\n      east1.addEventListener(\"click\", this.movePlayer);\n\n      if (\n        east2 &&\n        !east2.classList.contains(\"obstacle\") &&\n        !east2.classList.contains(\"player\")\n      ) {\n        east2.classList.add(\"highlight\");\n        east2.addEventListener(\"click\", this.movePlayer);\n\n        if (\n          east3 &&\n          !east3.classList.contains(\"obstacle\") &&\n          !east3.classList.contains(\"player\")\n        ) {\n          east3.classList.add(\"highlight\");\n          east3.addEventListener(\"click\", this.movePlayer);\n        }\n      }\n    }\n\n    if (\n      west1 &&\n      !west1.classList.contains(\"obstacle\") &&\n      !west1.classList.contains(\"player\")\n    ) {\n      west1.classList.add(\"highlight\");\n      west1.addEventListener(\"click\", this.movePlayer);\n\n      if (\n        west2 &&\n        !west2.classList.contains(\"obstacle\") &&\n        !west2.classList.contains(\"player\")\n      ) {\n        west2.classList.add(\"highlight\");\n        west2.addEventListener(\"click\", this.movePlayer);\n\n        if (\n          west3 &&\n          !west3.classList.contains(\"obstacle\") &&\n          !west3.classList.contains(\"player\")\n        ) {\n          west3.classList.add(\"highlight\");\n          west3.addEventListener(\"click\", this.movePlayer);\n        }\n      }\n    }\n  };\n\n  movePlayer = (e) => {\n    // Remove player image from old position\n    const oldPos = document.querySelector(\n      `[data-row=\"${this.currentPlayer.location.row}\"][data-column=\"${this.currentPlayer.location.column}\"]`\n    );\n\n    const newPos = e.target.nodeName === \"IMG\" ? e.path[1] : e.target;\n\n    // Check if any weapon is in memory\n    if (this.currentPlayer.weapon.old) {\n      oldPos.innerHTML = this.currentPlayer.weapon.old;\n      this.players[this.currentPlayer.id - 1].weapon.old = null;\n    } else {\n      oldPos.innerHTML = \"\";\n    }\n\n    oldPos.classList.remove(\"player\");\n\n    // Update new player position\n    this.players[this.currentPlayer.id - 1].location = {\n      row: newPos.dataset.row,\n      column: newPos.dataset.column,\n    };\n\n    if (newPos.classList.contains(\"weapon\")) {\n      this.players[\n        this.currentPlayer.id - 1\n      ].weapon.old = this.currentPlayer.weapon.image;\n      this.players[this.currentPlayer.id - 1].weapon.image = newPos.innerHTML;\n      this.players[this.currentPlayer.id - 1].weapon.damage =\n        e.target.dataset.damage;\n\n      document.querySelector(`#p${this.currentPlayer.id}-weapon`).innerHTML =\n        newPos.innerHTML;\n\n      document.querySelector(`#p${this.currentPlayer.id}-damage`).innerHTML =\n        e.target.dataset.damage;\n    }\n\n    // Add player image to new position\n    newPos.innerHTML = this.currentPlayer.image;\n    newPos.classList.add(\"player\");\n\n    // Remove highlights\n    for (const tile of document.querySelectorAll(\".highlight\")) {\n      tile.classList.remove(\"highlight\");\n      tile.removeEventListener(\"click\", this.movePlayer);\n    }\n\n    const isFighting = !!this.detectFight();\n    if (isFighting) {\n      this.retaliation();\n    } else {\n      this.changeTurn();\n    }\n  };\n\n  detectFight = () => {\n    const north = document.querySelector(\n      `[data-row=\"${this.currentPlayer.location.row - 1}\"][data-column=\"${\n        this.currentPlayer.location.column\n      }\"]`\n    );\n\n    const west = document.querySelector(\n      `[data-row=\"${this.currentPlayer.location.row}\"][data-column=\"${\n        this.currentPlayer.location.column - 1\n      }\"]`\n    );\n\n    const east = document.querySelector(\n      `[data-row=\"${this.currentPlayer.location.row}\"][data-column=\"${\n        Number(this.currentPlayer.location.column) + 1\n      }\"]`\n    );\n\n    const south = document.querySelector(\n      `[data-row=\"${\n        Number(this.currentPlayer.location.row) + 1\n      }\"][data-column=\"${this.currentPlayer.location.column}\"]`\n    );\n\n    if (north && north.classList.contains(\"player\")) return true;\n    if (south && south.classList.contains(\"player\")) return true;\n    if (east && east.classList.contains(\"player\")) return true;\n    if (west && west.classList.contains(\"player\")) return true;\n  };\n\n  retaliation = () => {\n    const attacker = this.currentPlayer;\n    this.currentPlayer =\n      this.currentPlayer.id === 1 ? this.players[1] : this.players[0];\n\n    // await this.asyncDelay(500);\n    const opponent = this.currentPlayer;\n\n    // Update player panels highlight\n    document.querySelector(`#player${attacker.id}`).classList.remove(\"active\");\n    document.querySelector(`#player${opponent.id}`).classList.add(\"active\");\n\n    // console.log(\"Lets start a fight...\", opponent.id);\n    // 1. Display retaliation modal\n    setTimeout(() => {\n      document.querySelector(\"#fightModal\").classList.add(\"open\");\n    }, 500);\n\n    document.querySelector(\"#avatar\").innerHTML = opponent.image;\n\n    // 2. Decreasing health of opposite member\n\n    const protect = () => {\n      document.querySelector(\"#attack\").removeEventListener(\"click\", attack);\n      const newHealth = opponent.health - attacker.weapon.damage / 2;\n\n      this.players[opponent.id - 1].health = newHealth;\n      document.querySelector(`#p${opponent.id}-health`).innerHTML = newHealth;\n      document.querySelector(`#p${opponent.id}-shield`).innerHTML = \"Protected\";\n      document\n        .querySelector(`#p${opponent.id}-shield-image`)\n        .classList.add(\"protected\");\n\n      document.querySelector(\"#fightModal\").classList.remove(\"open\");\n\n      if (this.gameOver(opponent, attacker)) return;\n\n      this.retaliation();\n    };\n\n    const attack = () => {\n      document.querySelector(\"#protect\").removeEventListener(\"click\", protect);\n      const newHealth = opponent.health - attacker.weapon.damage;\n\n      this.players[opponent.id - 1].health = newHealth;\n      document.querySelector(`#p${opponent.id}-health`).innerHTML = newHealth;\n      document.querySelector(`#p${opponent.id}-shield`).innerHTML =\n        \"Unprotected\";\n      document\n        .querySelector(`#p${opponent.id}-shield-image`)\n        .classList.remove(\"protected\");\n\n      document.querySelector(\"#fightModal\").classList.remove(\"open\");\n\n      // Remove highlights\n      for (const tile of document.querySelectorAll(\".highlight\")) {\n        tile.classList.remove(\"highlight\");\n        tile.removeEventListener(\"click\", this.movePlayer);\n      }\n\n      if (this.gameOver(opponent, attacker)) return;\n\n      this.retaliation();\n    };\n\n    document\n      .querySelector(\"#protect\")\n      .addEventListener(\"click\", protect, { once: true });\n\n    document\n      .querySelector(\"#attack\")\n      .addEventListener(\"click\", attack, { once: true });\n  };\n\n  gameOver = (opponent, attacker) => {\n    if (opponent.health <= 0) {\n      document.querySelector(\".modal-window\").classList.remove(\"open\");\n\n      document.querySelector(\"#gameOverModal\").classList.add(\"open\");\n      document.querySelector(\n        \"#gameOverModal p:first-of-type\"\n      ).innerHTML = `${attacker.name}, you have won the game :)`;\n      document.querySelector(\n        \"#gameOverModal p:last-of-type\"\n      ).innerHTML = `${opponent.name}, you have lost the game :(`;\n\n      document\n        .querySelector(\"#gameOverModal button\")\n        .addEventListener(\"click\", () => {\n          document.querySelector(\"#gameOverModal\").classList.remove(\"open\");\n        });\n\n      return true;\n    }\n  };\n\n  detectTurn = () => {\n    const panel = document.querySelector(`#player${this.currentPlayer.id}`);\n\n    for (const scoreBoard of document.querySelectorAll(\".scoreBoard\")) {\n      scoreBoard.classList.remove(\"active\");\n    }\n\n    panel.classList.add(\"active\");\n  };\n\n  changeTurn = () => {\n    if (this.currentPlayer.id === 1) {\n      this.currentPlayer = this.players[1];\n    } else {\n      this.currentPlayer = this.players[0];\n    }\n\n    this.detectTurn();\n\n    this.playerMoves();\n  };\n}\n","// import 'regenerator-runtime/runtime'\nimport Player from \"./player\";\nimport Game from \"./game\";\nimport { mario, luigi, fire, gun } from \"./assets\";\n\nGame.map(\"#mapBox\", 81);\n\nconst newGame = () => {\n  const player1 = new Player(\"Mario\", mario, fire).generate();\n  const player2 = new Player(\"Luigi\", luigi, gun, player1.id).generate();\n\n  const game = new Game([player1, player2]);\n\n  game.init();\n};\n\ndocument.querySelector(\"#newGame\").addEventListener(\"click\", newGame);\ndocument.querySelector(\"#newGame2\").addEventListener(\"click\", newGame);\n"]}